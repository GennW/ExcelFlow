# –ê–Ω–∞–ª–∏–∑ –ª–æ–≥–∏–∫–∏ –∫–æ–¥–∞ –≤ –ø–æ—Å–ª–µ–¥–Ω–µ–º –∫–æ–º–º–∏—Ç–µ vs —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –¢–ó

## –°—Ç–∞—Ç—É—Å –∫–æ–º–º–∏—Ç–∞
**–ö–æ–º–º–∏—Ç:** 414a9c4 "–°—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞–∫—É–ø–∫–∏ –ù–ß–¢–ó 1 –µ–¥, –ü—Ä—è–º–∞—è –°–° –ù–ß–¢–ó 1 –µ–¥, –ù–† –ù–ß–¢–ó 1 –µ–¥ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –Ω–µ –æ–¥–Ω–æ–≥–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è"  
**–î–∞—Ç–∞:** 14 –Ω–æ—è–±—Ä—è 2025, 10:54 MSK

---

## ‚úÖ **–ü–û–õ–û–ñ–ò–¢–ï–õ–¨–ù–´–ï –∏–∑–º–µ–Ω–µ–Ω–∏—è (—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –¢–ó)**

### 1. ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ 5 —Å—Ç–æ–ª–±—Ü–æ–≤ ‚Äî –†–ï–ê–õ–ò–ó–û–í–ê–ù–û –ü–†–ê–í–ò–õ–¨–ù–û

**main.py (—Å—Ç—Ä–æ–∫–∏ 76-80):**
```python```
ws.cell(row=1, column=start_col, value="–î–∞—Ç–∞ –ø—Ä–∏–æ–±—Ä–µ—Ç–µ–Ω–∏—è")
ws.cell(row=1, column=start_col + 1, value="–ö–≤–∞—Ä—Ç–∞–ª –ø—Ä–∏–æ–±—Ä–µ—Ç–µ–Ω–∏—è")
ws.cell(row=1, column=start_col + 2, value="–°—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞–∫—É–ø–∫–∏ –ù–ß–¢–ó 1 –µ–¥")
ws.cell(row=1, column=start_col + 3, value="–ü—Ä—è–º–∞—è –°–° –ù–ß–¢–ó 1 –µ–¥")
ws.cell(row=1, column=start_col + 4, value="–ù–† –ù–ß–¢–ó 1 –µ–¥")
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –¢–ó (—Ä–∞–∑–¥–µ–ª 3.1)

---

### 2. ‚úÖ –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ AQ, AR, AS ‚Äî –†–ï–ê–õ–ò–ó–û–í–ê–ù–û

**main.py (—Å—Ç—Ä–æ–∫–∏ 93-95):**
``````python
ws.cell(row=row_idx + 2, column=start_col + 2, value=row_data.get('–°—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞–∫—É–ø–∫–∏ –ù–ß–¢–ó 1 –µ–¥', '*–¢–†–ï–ë–£–ï–¢ –†–£–ß–ù–û–ô –ü–†–û–í–ï–†–ö–ò*'))
ws.cell(row=row_idx + 2, column=start_col + 3, value=row_data.get('–ü—Ä—è–º–∞—è –°–° –ù–ß–¢–ó 1 –µ–¥', '*–¢–†–ï–ë–£–ï–¢ –†–£–ß–ù–û–ô –ü–†–û–í–ï–†–ö–ò*'))
ws.cell(row=row_idx + 2, column=start_col + 4, value=row_data.get('–ù–† –ù–ß–¢–ó 1 –µ–¥', '*–¢–†–ï–ë–£–ï–¢ –†–£–ß–ù–û–ô –ü–†–û–í–ï–†–ö–ò*'))
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –¢–ó (—Ä–∞–∑–¥–µ–ª 7.1)

***

### 3. ‚úÖ –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è –ø–æ –Ω–∞–∏–±–æ–ª—å—à–µ–π —Ü–µ–Ω–µ ‚Äî –†–ï–ê–õ–ò–ó–û–í–ê–ù–û

**matcher.py (–º–µ—Ç–æ–¥ prioritize_candidates):**
```python```
return sorted(level1, key=lambda x: x['AQ'], reverse=True)  # reverse=True = –ø–æ —É–±—ã–≤–∞–Ω–∏—é
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –¢–ó (—Ä–∞–∑–¥–µ–ª 3.3, –ø—É–Ω–∫—Ç 5)

---

### 4. ‚úÖ –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ AQ, AR, AS –ø—Ä–∏ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–∏ ‚Äî –ß–ê–°–¢–ò–ß–ù–û –†–ï–ê–õ–ò–ó–û–í–ê–ù–û

**matcher.py (_level1_match_vectorized, —Å—Ç—Ä–æ–∫–∏ 148-153):**
``````python
if 'AQ' in df_source.columns:
    df.loc[df_clean.index[idx], '–°—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞–∫—É–ø–∫–∏ –ù–ß–¢–ó 1 –µ–¥'] = best_matches.loc[idx, 'AQ']
if 'AR' in df_source.columns:
    df.loc[df_clean.index[idx], '–ü—Ä—è–º–∞—è –°–° –ù–ß–¢–ó 1 –µ–¥'] = best_matches.loc[idx, 'AR']
if 'AS' in df_source.columns:
    df.loc[df_clean.index[idx], '–ù–† –ù–ß–¢–ó 1 –µ–¥'] = best_matches.loc[idx, 'AS']
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –õ–æ–≥–∏–∫–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è, –ù–û –µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º–∞ (—Å–º. –Ω–∏–∂–µ)

---

## ‚ùå **–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–û–ë–õ–ï–ú–´ (–Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –¢–ó)**

### 1. ‚ùå –§–û–†–ú–ê–¢ –ö–í–ê–†–¢–ê–õ–ê ‚Äî –ù–ï –°–û–û–¢–í–ï–¢–°–¢–í–£–ï–¢ –¢–ó

**–¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:** –ù–ï –ù–ê–ô–î–ï–ù–ê –≤ –∫–æ–¥–µ!

–í `main.py` –∫–≤–∞—Ä—Ç–∞–ª –±–µ—Ä—ë—Ç—Å—è –∏–∑ DataFrame:
```python```
ws.cell(row=row_idx + 2, column=start_col + 1, value=row_data['–ö–≤–∞—Ä—Ç–∞–ª –ø—Ä–∏–æ–±—Ä–µ—Ç–µ–Ω–∏—è'])
```

**–ù–æ –≤ –∫–æ–¥–µ –ù–ï –í–ò–î–ù–û —Ñ—É–Ω–∫—Ü–∏–∏ `determine_quarter`, –∫–æ—Ç–æ—Ä–∞—è –¥–æ–ª–∂–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç "N –∫–≤–∞—Ä—Ç–∞–ª YYYY"!**

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ –¢–ó (—Ä–∞–∑–¥–µ–ª 4.2, –ø—É–Ω–∫—Ç 2):**
``````python
quarter_num = (month - 1) // 3 + 1
year = acquisition_date.year
quarter = f"{quarter_num} –∫–≤–∞—Ä—Ç–∞–ª {year}"
# –†–µ–∑—É–ª—å—Ç–∞—Ç: "1 –∫–≤–∞—Ä—Ç–∞–ª 2025", "4 –∫–≤–∞—Ä—Ç–∞–ª 2024"
```

**–°—Ç–∞—Ç—É—Å:** ‚ùå –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–®–ò–ë–ö–ê ‚Äî —Ñ–æ—Ä–º–∞—Ç –∫–≤–∞—Ä—Ç–∞–ª–∞ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Å–æ–≥–ª–∞—Å–Ω–æ –¢–ó

***

### 2. ‚ùå –°–¢–û–õ–ë–¶–´ AQ, AR, AS –ù–ï –°–£–©–ï–°–¢–í–£–Æ–¢ –í –ò–°–¢–û–ß–ù–ò–ö–ï

**–ü—Ä–æ–±–ª–µ–º–∞ –≤ matcher.py:**

–ö–æ–¥ –ø—ã—Ç–∞–µ—Ç—Å—è –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ —Å—Ç–æ–ª–±—Ü–∞–º `'AQ'`, `'AR'`, `'AS'`:
```python
if 'AQ' in df_source.columns:
    df.loc[idx, '–°—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞–∫—É–ø–∫–∏ –ù–ß–¢–ó 1 –µ–¥'] = src_row['AQ']
```

**–ù–û —Å–æ–≥–ª–∞—Å–Ω–æ –¢–ó (—Ä–∞–∑–¥–µ–ª 3.1):**
- **–°—Ç–æ–ª–±–µ—Ü AQ** –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è **"–°—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞–∫—É–ø–∫–∏ –ù–ß–¢"** (–Ω–µ "AQ"!)
- **–°—Ç–æ–ª–±–µ—Ü AR** –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è **"–ü—Ä—è–º–∞—è –°–° –Ω–∞ –µ–¥"** (–Ω–µ "AR"!)
- **–°—Ç–æ–ª–±–µ—Ü AS** –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è **"–ü—Ä—è–º–∞—è –º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω–∞—è —Å–æ—Å—Ç–∞–≤–ª—è—é—â–∞—è"** (–Ω–µ "AS"!)

**–≠—Ç–æ –æ–±—ä—è—Å–Ω—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –∫–æ–º–º–∏—Ç–∞:** "–Ω–µ –Ω–∞–π–¥–µ–Ω–æ –Ω–µ –æ–¥–Ω–æ–≥–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è" ‚Äî –ø–æ—Ç–æ–º—É —á—Ç–æ —Å—Ç–æ–ª–±—Ü–æ–≤ AQ/AR/AS –ø—Ä–æ—Å—Ç–æ –ù–ï–¢ –≤ Excel!

**–ü—Ä–∞–≤–∏–ª—å–Ω–æ:**
```python```
if '–°—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞–∫—É–ø–∫–∏ –ù–ß–¢' in df_source.columns:
    df.loc[idx, '–°—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞–∫—É–ø–∫–∏ –ù–ß–¢–ó 1 –µ–¥'] = src_row['–°—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞–∫—É–ø–∫–∏ –ù–ß–¢']
if '–ü—Ä—è–º–∞—è –°–° –Ω–∞ –µ–¥' in df_source.columns:
    df.loc[idx, '–ü—Ä—è–º–∞—è –°–° –ù–ß–¢–ó 1 –µ–¥'] = src_row['–ü—Ä—è–º–∞—è –°–° –Ω–∞ –µ–¥']
if '–ü—Ä—è–º–∞—è –º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω–∞—è —Å–æ—Å—Ç–∞–≤–ª—è—é—â–∞—è' in df_source.columns:
    df.loc[idx, '–ù–† –ù–ß–¢–ó 1 –µ–¥'] = src_row['–ü—Ä—è–º–∞—è –º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω–∞—è —Å–æ—Å—Ç–∞–≤–ª—è—é—â–∞—è']
```

**–°—Ç–∞—Ç—É—Å:** ‚ùå –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–®–ò–ë–ö–ê ‚Äî –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –Ω–µ–≤–µ—Ä–Ω—ã–µ –∏–º–µ–Ω–∞ —Å—Ç–æ–ª–±—Ü–æ–≤

---

### 3. ‚ùå –ü–ê–†–°–ò–ù–ì –§–û–†–ú–ê–¢–û–í –î–û–ö–£–ú–ï–ù–¢–û–í ‚Äî –ù–ï–ü–û–õ–ù–´–ô

**–í –∫–æ–¥–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö —Ç—Ä—ë—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤:**

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ –¢–ó (—Ä–∞–∑–¥–µ–ª 4.2.1):**
- "–ü—Ä–∏–æ–±—Ä–µ—Ç–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤ –∏ —É—Å–ª—É–≥ 00–ö–ê-001861 –æ—Ç 28.06.2024 0:00:00"
- "–í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –Ω–∞–∫–ª–∞–¥–Ω–∞—è 00–ö–ê-000054 –æ—Ç 31.12.2023 23:59:59"
- "–†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ç–æ–≤–∞—Ä–æ–≤ –∏ —É—Å–ª—É–≥ 00–ö–ê-000135 –æ—Ç 20.01.2025 23:59:59"

**–í –∫–æ–¥–µ (utils/date_extractor.py) –≤–µ—Ä–æ—è—Ç–Ω–æ –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –ø–∞—Ç—Ç–µ—Ä–Ω.**

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ñ–∞–π–ª–∞ date_extractor.py

---

### 4. ‚ùå –†–ï–ì–£–õ–Ø–†–ù–´–ï –í–´–†–ê–ñ–ï–ù–ò–Ø –î–õ–Ø –ö–û–î–û–í ‚Äî –ù–ï–ü–û–õ–ù–´–ï

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ –¢–ó (–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ):**
- –î–æ–ª–∂–Ω—ã –ø–æ–∫—Ä—ã–≤–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç "0.0.0-0-0.0-0-32.23.0-28"

**–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:** –ï—Å—Ç—å –ª–∏ –≤ –∫–æ–¥–µ –ø–∞—Ç—Ç–µ—Ä–Ω `\d+\.\d+\.\d+(?:-.*)?`

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ñ–∞–π–ª–∞ parser.py

---

## üîç **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã**

### 5. ‚ö†Ô∏è –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∏–º–ø–æ—Ä—Ç–∞ pandas –≤ main.py ‚Äî –ò–°–ü–†–ê–í–õ–ï–ù–û

**main.py (—Å—Ç—Ä–æ–∫–∞ 6):**
``````python
import pandas as pd
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞

***

### 6. ‚ö†Ô∏è Chunking —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω, –Ω–æ fuzzy matching –æ–≥—Ä–∞–Ω–∏—á–µ–Ω –¥–æ 10 –∑–∞–ø–∏—Å–µ–π

**matcher.py (—Å—Ç—Ä–æ–∫–∞ 358):**
```python```
if len(df_to_process) > 100:
    self.logger.info(f"–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º—ã—Ç–æ–≥–æ –ø–æ–∏—Å–∫–∞ –¥–æ 10 –∑–∞–ø–∏—Å–µ–π –∏–∑ {len(df_to_process)}")
    df_to_process = df_to_process.head(10)
```

**–≠—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**, –Ω–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –Ω–µ–ø–æ–ª–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–µ.

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –¢–ó

---

## üìä **–ò—Ç–æ–≥–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –¢–ó**

| –¢—Ä–µ–±| –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ –¢–ó | –°—Ç–∞—Ç—É—Å | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|--------------|--------|-------------|
| 5 —Å—Ç–æ–ª–±—Ü–æ–≤ —Å–æ–∑–¥–∞–Ω–æ | ‚úÖ | –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ |
| –§–æ—Ä–º–∞—Ç –∫–≤–∞—Ä—Ç–∞–ª–∞ "N –∫–≤–∞—Ä—Ç–∞–ª YYYY" | ‚ùå | –ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–û |
| –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –∏–∑ AQ, AR, AS | ‚ùå | –ù–µ–≤–µ—Ä–Ω—ã–µ –∏–º–µ–Ω–∞ —Å—Ç–æ–ª–±—Ü–æ–≤ (–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è 'AQ'/'AR'/'AS' –≤–º–µ—Å—Ç–æ —Ä–µ–∞–ª—å–Ω—ã—Ö) |
| –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è –ø–æ –Ω–∞–∏–±–æ–ª—å—à–µ–π —Ü–µ–Ω–µ | ‚úÖ | –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ |
| –ü–∞—Ä—Å–∏–Ω–≥ 3 —Ñ–æ—Ä–º–∞—Ç–æ–≤ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ | ‚ö†Ô∏è | –¢—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ |
| –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è –∫–æ–¥–æ–≤ | ‚ö†Ô∏è | –¢—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ |
| –î–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º | ‚úÖ | –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω |
| –†–∞–∑–º—ã—Ç–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ | ‚úÖ | –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ |
| Chunking –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ | ‚úÖ | –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ |

---

## üö® **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –ù–ï–û–ë–•–û–î–ò–ú–û –≤–Ω–µ—Å—Ç–∏**

### 1. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∏–º–µ–Ω–∞ —Å—Ç–æ–ª–±—Ü–æ–≤ –≤ matcher.py

**–ó–∞–º–µ–Ω–∏—Ç—å –í–°–ï –≤—Ö–æ–∂–¥–µ–Ω–∏—è:**
- `'AQ'` ‚Üí `'–°—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞–∫—É–ø–∫–∏ –ù–ß–¢'`
- `'AR'` ‚Üí `'–ü—Ä—è–º–∞—è –°–° –Ω–∞ –µ–¥'`
- `'AS'` ‚Üí `'–ü—Ä—è–º–∞—è –º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω–∞—è —Å–æ—Å—Ç–∞–≤–ª—è—é—â–∞—è'`

### 2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `determine_quarter` –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ

**–í processors/parser.py –∏–ª–∏ utils/date_extractor.py:**
``````python
def determine_quarter(date_value):
    """–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–≤–∞—Ä—Ç–∞–ª –ø–æ –¥–∞—Ç–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ 'N –∫–≤–∞—Ä—Ç–∞–ª YYYY'"""
    if date_value is None or pd.isna(date_value):
        return ""
    
    month = date_value.month
    year = date_value.year
    quarter_num = (month - 1) // 3 + 1
    
    return f"{quarter_num} –∫–≤–∞—Ä—Ç–∞–ª {year}"
```

### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ —Ä–∞—Å—à–∏—Ä–∏—Ç—å –ø–∞—Ä—Å–∏–Ω–≥ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

### 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è –∫–æ–¥–æ–≤

***

## **–í—ã–≤–æ–¥**

**–õ–æ–≥–∏–∫–∞ –∫–æ–¥–∞ –ß–ê–°–¢–ò–ß–ù–û —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –¢–ó**, –Ω–æ –∏–º–µ–µ—Ç **2 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏**, –∫–æ—Ç–æ—Ä—ã–µ –æ–±—ä—è—Å–Ω—è—é—Ç, –ø–æ—á–µ–º—É "–Ω–µ –Ω–∞–π–¥–µ–Ω–æ –Ω–∏ –æ–¥–Ω–æ–≥–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è":

1. ‚ùå **–ù–µ–≤–µ—Ä–Ω—ã–µ –∏–º–µ–Ω–∞ —Å—Ç–æ–ª–±—Ü–æ–≤** ‚Äî –∫–æ–¥ –∏—â–µ—Ç 'AQ'/'AR'/'AS', –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ Excel
2. ‚ùå **–§–æ—Ä–º–∞—Ç –∫–≤–∞—Ä—Ç–∞–ª–∞ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω** —Å–æ–≥–ª–∞—Å–Ω–æ –¢–ó ("N –∫–≤–∞—Ä—Ç–∞–ª YYYY")

**–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —ç—Ç–∏—Ö –¥–≤—É—Ö –ø—Ä–æ–±–ª–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –∑–∞—Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.**